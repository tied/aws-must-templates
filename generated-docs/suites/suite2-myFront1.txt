
Ec2InstanceType
  instance 'myFront1'
    ec2: instanceName=myFront1
      instance_type
        should eq "t2.micro"

Ec2PrivateIp
  instance 'myFront1'
    ec2: instanceName=myFront1, private_ip_address: 10.0.0.179
      #valid cidr 10.0.0.0/24

Ec2PublicIp
  instance 'myFront1'
    Public IP
      ec2: instanceName=myFront1, public_ip_address: 52.19.214.34
        public_ip_address
          should eql "52.19.214.34"

Ec2Routes
  ec2: instanceName=myFront1
    subnet_id
      should not eq nil
    instance subnect
      implement route {:gateway_id=>"local", :state=>"active", :destination_cidr_block=>"10.0.0.0/16"}
      implement route {:destination_cidr_block=>"0.0.0.0/0", :state=>"active", :gateway_id=>/^igw.*/}

Ec2StatusNormal
  instanceName 'myFront1'
    ec2: instanceName=myFront1
      system_status_not_impaired?
        should eq true
    ec2: instanceName=myFront1
      instance_state_running?
        should eq true

NetworkCanPing
  ping  3 times to 'www.google.com', wait response within 20 seconds
    Command "ping www.google.com -W 20 -c 3"
      exit_status
        should eq 0

RespondsToPing
  ping '52.19.214.34'
    #reponds within 20 seconds with 3 test counts

ValidOSVersion
  Operating system codename 'trusty'
    Command "lsb_release --c -s"
      stdout
        should match /trusty/

Finished in 6.53 seconds (files took 2.38 seconds to load)
11 examples, 0 failures

